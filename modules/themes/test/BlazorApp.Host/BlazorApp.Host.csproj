<Project Sdk="Microsoft.NET.Sdk.BlazorWebAssembly">
	<PropertyGroup>
		<TargetFramework>net6.0</TargetFramework>
		<ImplicitUsings>enable</ImplicitUsings>
		<BlazorWebAssemblyLoadAllGlobalizationData>true</BlazorWebAssemblyLoadAllGlobalizationData>
		<Configurations>Debug;Release;Debug_Bootstrap;Release_Bootstrap;Debug_Antd;Release_Antd</Configurations>
	</PropertyGroup>
	<Choose>
		<When Condition="$([System.Text.RegularExpressions.Regex]::IsMatch($(Configuration), 'Debug_.*'))">
			<PropertyGroup>
				<DefineConstants>$(DefineConstants);DEBUG</DefineConstants>
				<DebugSymbols>true</DebugSymbols>
				<DebugType>Portable</DebugType>
				<Optimize>false</Optimize>
				<OutputPath>.\bin\Debug\</OutputPath>
			</PropertyGroup>
		</When>
		<When Condition="$([System.Text.RegularExpressions.Regex]::IsMatch($(Configuration), 'Release_.*'))">
			<PropertyGroup>
				<DebugSymbols>false</DebugSymbols>
				<Optimize>true</Optimize>
				<OutputPath>.\bin\Release\</OutputPath>
				<DefineConstants>$(DefineConstants);RELEASE</DefineConstants>
			</PropertyGroup>
		</When>
	</Choose>
	<ItemGroup>
		<PackageReference Include="Microsoft.AspNetCore.Components.WebAssembly" Version="6.0.8" />
		<PackageReference Include="Microsoft.AspNetCore.Components.WebAssembly.DevServer" Version="6.0.8" PrivateAssets="all" />
	</ItemGroup>
	<ItemGroup>
		<PackageReference Include="Volo.Abp.Autofac.WebAssembly" Version="$(AbpVersion)" />
		<PackageReference Include="Volo.Abp.Account.Application.Contracts" Version="$(AbpVersion)" />
	</ItemGroup>
	<ItemGroup>
		<ProjectReference Include="..\..\..\..\framework\Tchivs.Abp.AspNetCore.Components.WebAssembly\Tchivs.Abp.AspNetCore.Components.WebAssembly.csproj" />
		<ProjectReference Include="..\..\..\..\framework\Tchivs.Abp.UI\Tchivs.Abp.UI.csproj" />
	</ItemGroup>

	<Choose>
		<When Condition="$([System.Text.RegularExpressions.Regex]::IsMatch($(Configuration), '.*Bootstrap'))">
			<PropertyGroup>
				<DefineConstants>$(DefineConstants);BOOTSTRAP</DefineConstants>
			</PropertyGroup>
			<ItemGroup>
				<ProjectReference Include="..\..\src\Tchivs.Abp.UI.Bootstrap.WebAssembly\Tchivs.Abp.UI.Bootstrap.WebAssembly.csproj" />
			</ItemGroup>
		</When>
		<When Condition="$([System.Text.RegularExpressions.Regex]::IsMatch($(Configuration), '.*Antd'))">
			<PropertyGroup>
				<DefineConstants>$(DefineConstants);ANTD</DefineConstants>
			</PropertyGroup>
			<ItemGroup>
				<ProjectReference Include="..\..\src\Tchivs.Abp.UI.AntDesign.WebAssembly\Tchivs.Abp.UI.AntDesign.WebAssembly.csproj" />
			</ItemGroup>
		</When>
	</Choose>

	<Target Name="PostBuild" AfterTargets="PostBuildEvent">
	  <Exec Command="abp bundle" />
	</Target>
</Project>
