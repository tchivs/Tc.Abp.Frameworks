@using Microsoft.JSInterop
@inject NavigationManager _navigation
@inject IJSRuntime _jsRuntime

@code {

    
    protected override Task OnAfterRenderAsync(bool firstRender)
    {
        bool isWebAssembly = _jsRuntime is IJSInProcessRuntime;
        var url =Uri.EscapeDataString(_navigation.Uri); 
       
        if (isWebAssembly)
        {
            _navigation.NavigateTo($"authentication/login?returnUrl={ url}");
        }
        else
        {
              _navigation.NavigateTo($"account/login?returnUrl={url}",true);
              
        }
        return base.OnAfterRenderAsync(firstRender);
    }

}