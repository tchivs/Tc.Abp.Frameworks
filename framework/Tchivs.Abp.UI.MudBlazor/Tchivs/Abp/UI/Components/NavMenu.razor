@using Volo.Abp.UI.Navigation
@inherits BasicMenuComponent
<MudNavMenu>
    @foreach (var menu in Menus)
    {
        if (menu.Items?.Any() == true)
        {
            <MudNavGroup Title="@menu.DisplayName" Expanded="true" Icon="@menu.Icon">

                @foreach (var child in menu.Items)
                {
                    <MudNavLink Href="@child.Url" Icon="@child.Icon" Match="@GetNavLinkMatch(child)">@child.DisplayName</MudNavLink>
                }
            </MudNavGroup>

        }
        else
        {
            <MudNavLink Href="@menu.Url" Icon="@menu.Icon" Match="@GetNavLinkMatch(menu)">@menu.DisplayName</MudNavLink>
        }
    }
   
</MudNavMenu>
@code {
    public ApplicationMenuItemList Menus { get; set; }
    protected override Task ProcessMenuItems(ApplicationMenuItemList items)
    {
        this.Menus = items;
        return Task.CompletedTask;
    }
    NavLinkMatch GetNavLinkMatch(ApplicationMenuItem item)
    {
        return item.Url == "/" ? NavLinkMatch.All : NavLinkMatch.Prefix;
    }
}